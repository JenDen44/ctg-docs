summary: Получение списка пользователей
description: |
  Возвращает список пользователей с пагинацией.
  Требует прав администратора.
operationId: get-users
tags:
  - users
security:
  - bearerAuth: []
parameters:
  - $ref: ../../shared/parameters/pagination/page.yaml
  - $ref: ../../shared/parameters/pagination/size.yaml
  - $ref: ../../shared/parameters/sort/sort.yaml
  - $ref: ../../shared/parameters/sort/sort-dir.yaml
  - in: query
    name: search
    description: Поле поиска (фильтрация по имени, email и т.д.)
    required: false
    schema:
      type: string
      example: Den
  - in: query
    name: roles
    description: Роли для фильтрации (можно указать несколько)
    required: false
    schema:
      type: array
      items:
        $ref: ../schemas/user-role.yaml
      example: ['ADMIN']
responses:
  '200':
    description: Список пользователей
    content:
      application/json:
        schema:
          allOf:
            - type: object
              properties:
                content:
                  type: array
                  description: Список пользователей
                  items:
                    $ref: ../schemas/user.yaml
            - $ref: ../../shared/schemas/pagination-response.yaml
        examples:
          firstPage:
            value:
              content:
                - id: 1
                  fullName: Админ Системы
                  email: admin@example.com
                  role: ADMIN
                - id: 2
                  fullName: Менеджер
                  email: manager@example.com
                  role: EMPLOYEE
              pageNumber: 0
              pageSize: 2
              totalElements: 3
              totalPages: 2
          secondPage:
            value:
              content:
                - id: 3
                  fullName: Тестовый Пользователь
                  email: test@example.com
                  role: EMPLOYEE
              pageNumber: 1
              pageSize: 2
              totalElements: 3
              totalPages: 2

  '400':
    $ref: ../../shared/responses/error/400.yaml

  '401':
    $ref: ../../shared/responses/error/401.yaml

  '403':
    $ref: ../../shared/responses/error/403.yaml

  '500':
    $ref: ../../shared/responses/error/500.yaml